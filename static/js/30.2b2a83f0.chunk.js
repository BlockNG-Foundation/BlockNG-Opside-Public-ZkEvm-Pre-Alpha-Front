/*! For license information please see 30.2b2a83f0.chunk.js.LICENSE.txt */
(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[30],{499:function(e,t,n){e.exports=n.p+"static/media/metamask.c06f3a3e.svg"},509:function(e,t,n){"use strict";var a,r=n(1),o=n(6),i=n(7),c=n(9),s=n(10),l=n(0),u=n.n(l),p=n(138),d=n(32),m=n.n(d),f=n(768),h=n(590),v=n(551),w=n(226),g=n(3),k=n(43),y=n(123),b=n(13),E=n(499),T=n.n(E);n(544);function x(){x=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(j){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),c=new O(r||[]);return a(i,"_invoke",{value:b(e,n,c)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(j){return{type:"throw",arg:j}}}e.wrap=l;var p={};function d(){}function m(){}function f(){}var h={};s(h,o,(function(){return this}));var v=Object.getPrototypeOf,w=v&&v(v(S([])));w&&w!==t&&n.call(w,o)&&(h=w);var g=f.prototype=d.prototype=Object.create(h);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var r;a(this,"_invoke",{value:function(a,o){function i(){return new t((function(r,i){!function a(r,o,i,c){var s=u(e[r],e,o);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==typeof p&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(p).then((function(e){l.value=e,i(l)}),(function(e){return a("throw",e,i,c)}))}c(s.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}})}function b(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return L()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var c=E(i,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=u(e,t,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}function E(e,t){var n=t.method,a=e.iterator[n];if(void 0===a)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var r=u(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function C(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:L}}function L(){return{value:void 0,done:!0}}return m.prototype=f,a(g,"constructor",{value:f,configurable:!0}),a(f,"constructor",{value:m,configurable:!0}),m.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},k(y.prototype),s(y.prototype,i,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var i=new y(l(t,n,a,r),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(g),s(g,c,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=S,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return i.type="throw",i.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),C(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;C(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}var C=Object(p.b)("pool")(a=Object(p.c)(a=function(e){Object(c.a)(n,e);var t=Object(s.a)(n);function n(e){var a;return Object(o.a)(this,n),(a=t.call(this,e)).unmount=!1,a.componentDidMount=function(){a.unmount=!1,a.findTokenInfo()},a.componentWillUnmount=function(){a.unmount=!0},a.findTokenInfo=function(){var e=a.props,t=e.curToken,n=void 0===t?{}:t,r=e.otherToken,o=void 0===r?{}:r,i=a.props.pool.allTokenList;if(i.length){var c=i.find((function(e){return e.address===n.address}))||n,s=i.find((function(e){return e.address===o.address}))||o;if(a.unmount)return;a.setState({currentSelectedToken:c,otherSelectedToken:s})}else setTimeout((function(){a.findTokenInfo()}),1e3)},a.openTokensDlg=function(){a.findTokenInfo(),a.setState({tokensVisible:!0})},a.closeTokensDlg=function(){a.setState({tokensVisible:!1,searchQuery:"",searchToken:[]})},a.onAddMetaMaskClick=function(){var e=a.state.currentSelectedToken;e.address&&Object(k.i)(e)},a.onAddTokenClick=function(e,t){t&&t.stopPropagation&&t.stopPropagation(),Object(y.c)(e),a.props.pool.genAllTokenList(),a.searchToken()},a.onRemoveTokenClick=function(e,t){t&&t.stopPropagation&&t.stopPropagation(),Object(y.y)(e),a.props.pool.genAllTokenList(),a.searchToken()},a.searchToken=Object(r.a)(x().mark((function e(){var t,n,r,o,i,c,s,l,u,p,d,m;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.state.searchQuery,n=a.props.pool,r=n.address,o=n.allTokenList,i=[],!Object(g.g)(t)){e.next=20;break}if(!(c=o.find((function(e){return e.address.toLowerCase()===t.toLowerCase()})))){e.next=9;break}i=[c],e.next=18;break;case 9:return e.next=11,Object(y.u)(r,t);case 11:s=e.sent,l=s.name,u=s.symbol,p=s.decimals,d=s.balance,s.success&&(m=Object(g.l)(t),a.props.pool.setTokenBalance(m,d),i=[{address:m,name:l,symbol:u,decimals:p,found:!0}]);case 18:e.next=21;break;case 20:i=o.filter((function(e){return e.symbol.toLowerCase().indexOf(t.toLowerCase())>-1}));case 21:a.setState({searchToken:i});case 22:case"end":return e.stop()}}),e)}))),a.onSearchChange=function(){var e=Object(r.a)(x().mark((function e(t){var n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t.target.value,a.setState({searchQuery:n},(function(){a.searchToken()}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.onTokenChange=function(e){var t=a.props,n=t.curToken,r=void 0===n?{}:n,o=t.otherToken,i=void 0===o?{}:o;if(e.address!==r.address&&e.address!==i.address){e.found&&a.onAddTokenClick(e);var c=a.props.onTokenChange;c&&c(e,(function(){a.findTokenInfo()})),a.closeTokensDlg()}},a.state={tokensVisible:!1,currentSelectedToken:{},otherSelectedToken:{},searchQuery:"",searchToken:[]},a}return Object(i.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.tokensVisible,a=t.currentSelectedToken,r=t.otherSelectedToken,o=t.searchQuery,i=t.searchToken,c=this.props.pool,s=c.tokenBalanceMap,l=c.allTokenList,p=c.voteList,d=o?i:l,g={};return p.filter((function(e){return e.dexFactory===b.a.contract.uniswapV2.factory.address})).forEach((function(e){return g[e.subTokenAddress]=e.votePer})),u.a.createElement("div",{className:"swap-tokens-main"},u.a.createElement("div",{className:"swap-tokens-row"},u.a.createElement("div",{className:"swap-tokens-info"},a.symbol?u.a.createElement("div",{className:"swap-tokens-info-wrapper"},u.a.createElement("div",{className:"swap-tokens-info-icon"},a.image?u.a.createElement("img",{src:a.image,alt:""}):u.a.createElement(h.a,null)),u.a.createElement("div",{className:"swap-tokens-info-symbol",onClick:this.openTokensDlg},u.a.createElement("div",{className:"global-secondary"},a.symbol),u.a.createElement(v.a,null))):u.a.createElement("div",{className:"swap-tokens-info-wrapper"},u.a.createElement("div",{className:"swap-tokens-info-symbol",onClick:this.openTokensDlg},u.a.createElement("div",{className:"global-secondary"},m.a.get("swap.tokens.selectToken")),u.a.createElement(v.a,null))),a.address?u.a.createElement("div",{className:"swap-tokens-info-copy"},u.a.createElement(f.a.Paragraph,{copyable:{text:a.address}}),u.a.createElement("img",{src:T.a,alt:"",onClick:this.onAddMetaMaskClick})):u.a.createElement(u.a.Fragment,null)),u.a.createElement("div",{className:"global-number swap-tokens-balance"},u.a.createElement("span",{className:"global-desc"},m.a.get("swap.tokens.balance")),u.a.createElement(w.f,{end:s[a.address]}))),u.a.createElement(w.m,{visible:n,title:m.a.get("swap.tokens.title"),onCancel:this.closeTokensDlg},u.a.createElement(w.h,{autoFocus:!0,placeholder:m.a.get("swap.tokens.placeholder"),value:o,onChange:this.onSearchChange}),u.a.createElement("div",{className:"swap-tokens-list"},d.map((function(t,n){return u.a.createElement("div",{key:"".concat(t.address).concat(n),className:"swap-tokens-list-row ".concat(t.address===a.address||t.address===r.address?"current":""),onClick:function(){return e.onTokenChange(t)}},u.a.createElement("div",{className:"swap-tokens-list-info"},u.a.createElement("div",{className:"swap-tokens-info-icon"},t.image?u.a.createElement("img",{src:t.image,alt:""}):u.a.createElement(h.a,null)),u.a.createElement("div",{className:"swap-tokens-list-symbol"},u.a.createElement("div",null,t.symbol),g[t.address]?u.a.createElement("div",{className:"swap-tokens-list-symbol-apy"},u.a.createElement("span",{className:"apy"},m.a.get("swap.tokens.civilApr")," "),u.a.createElement("span",{className:"amount"},g[t.address],"%")):u.a.createElement(u.a.Fragment,null),t.user?u.a.createElement("div",{className:"swap-tokens-list-user"},m.a.get("swap.tokens.addDesc"),u.a.createElement("span",{className:"swap-tokens-list-user-btn",onClick:function(n){return e.onRemoveTokenClick(t.address,n)}},"(",m.a.get("swap.tokens.remove"),")")):u.a.createElement(u.a.Fragment,null),t.found?u.a.createElement("div",{className:"swap-tokens-list-user"},m.a.get("swap.tokens.foundDesc"),u.a.createElement("span",{className:"swap-tokens-list-user-btn",onClick:function(n){return e.onAddTokenClick(t,n)}},"(",m.a.get("swap.tokens.add"),")")):u.a.createElement(u.a.Fragment,null))),u.a.createElement("div",{className:"global-number swap-tokens-balance"},u.a.createElement(w.f,{end:s[t.address]})))})),d.length?u.a.createElement(u.a.Fragment,null):u.a.createElement("div",{className:"swap-tokens-list-noToken"},m.a.get("swap.tokens.noTokens")))))}}]),n}(u.a.Component))||a)||a;t.a=C},544:function(e,t,n){},676:function(e,t,n){},762:function(e,t,n){"use strict";n.r(t);var a,r=n(33),o=n(23),i=n(1),c=n(6),s=n(7),l=n(9),u=n(10),p=n(0),d=n.n(p),m=n(138),f=n(32),h=n.n(f),v=n(746),w=n(494),g=n(748),k=n(586),y=n(749),b=n(585),E=n(776),T=n(487),x=n(496),C=n(2),O=n.n(C),S=n(527),L=n.n(S),j=n(226),N=n(508),A=n(509),I=n(464),P=n(3),R=n(123),_=n(13);n(676);function F(){F=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,a=Object.defineProperty||function(e,t,n){e[t]=n.value},r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",i=r.asyncIterator||"@@asyncIterator",c=r.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(L){s=function(e,t,n){return e[t]=n}}function l(e,t,n,r){var o=t&&t.prototype instanceof d?t:d,i=Object.create(o.prototype),c=new C(r||[]);return a(i,"_invoke",{value:b(e,n,c)}),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=l;var p={};function d(){}function m(){}function f(){}var h={};s(h,o,(function(){return this}));var v=Object.getPrototypeOf,w=v&&v(v(O([])));w&&w!==t&&n.call(w,o)&&(h=w);var g=f.prototype=d.prototype=Object.create(h);function k(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){var r;a(this,"_invoke",{value:function(a,o){function i(){return new t((function(r,i){!function a(r,o,i,c){var s=u(e[r],e,o);if("throw"!==s.type){var l=s.arg,p=l.value;return p&&"object"==typeof p&&n.call(p,"__await")?t.resolve(p.__await).then((function(e){a("next",e,i,c)}),(function(e){a("throw",e,i,c)})):t.resolve(p).then((function(e){l.value=e,i(l)}),(function(e){return a("throw",e,i,c)}))}c(s.arg)}(a,o,r,i)}))}return r=r?r.then(i,i):i()}})}function b(e,t,n){var a="suspendedStart";return function(r,o){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===r)throw o;return S()}for(n.method=r,n.arg=o;;){var i=n.delegate;if(i){var c=E(i,n);if(c){if(c===p)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===a)throw a="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);a="executing";var s=u(e,t,n);if("normal"===s.type){if(a=n.done?"completed":"suspendedYield",s.arg===p)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(a="completed",n.method="throw",n.arg=s.arg)}}}function E(e,t){var n=t.method,a=e.iterator[n];if(void 0===a)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),p;var r=u(a,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,p;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,p):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,p)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function t(){for(;++a<e.length;)if(n.call(e,a))return t.value=e[a],t.done=!1,t;return t.value=void 0,t.done=!0,t};return r.next=r}}return{next:S}}function S(){return{value:void 0,done:!0}}return m.prototype=f,a(g,"constructor",{value:f,configurable:!0}),a(f,"constructor",{value:m,configurable:!0}),m.displayName=s(f,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,s(e,c,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},k(y.prototype),s(y.prototype,i,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,a,r,o){void 0===o&&(o=Promise);var i=new y(l(t,n,a,r),o);return e.isGeneratorFunction(n)?i:i.next().then((function(e){return e.done?e.value:i.next()}))},k(g),s(g,c,"Generator"),s(g,o,(function(){return this})),s(g,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var a in t)n.push(a);return n.reverse(),function e(){for(;n.length;){var a=n.pop();if(a in t)return e.value=a,e.done=!1,e}return e.done=!0,e}},e.values=O,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function a(n,a){return i.type="throw",i.arg=e,t.next=n,a&&(t.method="next",t.arg=void 0),!!a}for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return a("end");if(o.tryLoc<=this.prev){var c=n.call(o,"catchLoc"),s=n.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return a(o.catchLoc,!0);if(this.prev<o.finallyLoc)return a(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return a(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return a(o.finallyLoc)}}}},abrupt:function(e,t){for(var a=this.tryEntries.length-1;a>=0;--a){var r=this.tryEntries[a];if(r.tryLoc<=this.prev&&n.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var a=n.completion;if("throw"===a.type){var r=a.arg;x(n)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),p}},e}var V=_.a.path.latest,D=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).onCheckChange=function(e){a.setState({checked:e.target.checked})},a.closeImportDlg=function(){var e=a.props.onCancel;e&&e()},a.onImportClick=function(){var e=a.props.onOk;e&&e()},a.state={checked:!1},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this.state.checked,t=this.props,n=t.token0,a=t.token1,r=t.visible;return d.a.createElement("div",null,d.a.createElement(j.m,{visible:r,title:h.a.get("swap.swap.importTitle"),maskClosable:!1,onCancel:this.closeImportDlg},d.a.createElement("div",{className:"swap-main-warning swap"},d.a.createElement("div",null,d.a.createElement(g.a,null)),d.a.createElement("div",null,h.a.getHTML("swap.swap.importWarning"))),n.import?d.a.createElement("div",{className:"swap-import-centent"},d.a.createElement("div",{className:"swap-swap-info-row"},n.name," (",n.symbol,")"),d.a.createElement("div",{className:"swap-swap-info-row"},d.a.createElement("div",null,Object(P.d)(n.address)),d.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"".concat(_.a.chain.scan,"/address/").concat(n.address)},d.a.createElement("div",null,h.a.get("swap.swap.importView"))))):d.a.createElement(d.a.Fragment,null),a.import?d.a.createElement("div",{className:"swap-import-centent"},d.a.createElement("div",{className:"swap-swap-info-row"},a.name," (",a.symbol,")"),d.a.createElement("div",{className:"swap-swap-info-row"},d.a.createElement("div",null,Object(P.d)(a.address)),d.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"".concat(_.a.chain.scan,"/address/").concat(a.address)},d.a.createElement("div",null,h.a.get("swap.swap.importView"))))):d.a.createElement(d.a.Fragment,null),d.a.createElement("div",{className:"swap-import-control"},d.a.createElement("div",null,d.a.createElement(v.a,{checked:e,onChange:this.onCheckChange},h.a.get("swap.swap.importCheck"))),d.a.createElement("div",null,d.a.createElement(j.d,{disabled:!e,onClick:this.onImportClick},h.a.get("swap.swap.importButton"))))))}}]),n}(d.a.Component),B=Object(m.b)("pool")(a=Object(m.c)(a=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).unmount=!1,a.inputTokenRef=d.a.createRef(),a.outputTokenRef=d.a.createRef(),a.chartMap={},a.componentDidMount=function(){a.unmount=!1,a.props.pool.setUrlHash("swap");var e=a.props.location.search,t=void 0===e?"":e,n=L.a.parse(t),r=n.inputCurrency,o=void 0===r?"":r,i=n.outputCurrency,c=void 0===i?"":i;Object(R.s)(L.a.parse(t)).then((function(e){var t=e.tokenInput,n=e.tokenOutput,r=_.a.contract.uniswapV2.defaultSwapTokens.input,i=_.a.contract.uniswapV2.defaultSwapTokens.output,s={},l={},u=t.address===i.address,p=n.address===i.address;o?(s=t,l=c?n:u?r:i):c?(l=n,s=p?r:i):(s=r,l=i),a.setState({inputToken:s,outputToken:l},(function(){a.findUserToken()}))}))},a.componentWillUnmount=function(){a.unmount=!0},a.findUserToken=function(){var e=a.state,t=e.inputToken,n=e.outputToken,r=a.props.pool,o=r.allTokenList,i=r.allTokenMap;if(o.length){if(Object.keys(t).length&&(t.import=!0),Object.keys(n).length&&(n.import=!0),i[t.address]&&(t.import=!1),i[n.address]&&(n.import=!1),t.import||n.import)return void a.setState({importVisible:!0});a.setState({inputToken:t,outputToken:n},(function(){a.inputTokenRef.current.findTokenInfo(),a.outputTokenRef.current.findTokenInfo(),a.getAllPairReserves()}))}else setTimeout((function(){a.findUserToken()}),1e3)},a.getAllPairReserves=Object(i.a)(F().mark((function e(){var t,n,r,o,i,c,s,l,u,p=arguments;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.length>0&&void 0!==p[0]?p[0]:{},n=t.once,r=void 0!==n&&n,o=a.state,i=o.inputToken,c=o.outputToken,e.next=4,Object(R.w)(i,c);case 4:if(s=e.sent,l=s.allPairs,u=s.success,!a.unmount){e.next=9;break}return e.abrupt("return");case 9:if(u&&a.setState({allPairs:l},(function(){a.getBestTradeInfo()})),!r){e.next=12;break}return e.abrupt("return");case 12:setTimeout((function(){a.getAllPairReserves()}),5e3);case 13:case"end":return e.stop()}}),e)}))),a.getBestTradeInfo=Object(i.a)(F().mark((function e(){var t,n,r,o,i,c,s,l,u,p,d,m,f,h,v,w,g,k,y,b,E,T,x,C,O;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.state,n=t.inputToken,r=t.outputToken,o=t.allPairs,i=t.inputAmount,c=t.outputAmount,s=t.inputExact,l=t.disableMultihops,u=t.slippageTolerance,p=t.wrapType,e.next=3,Object(R.k)(n,r,i,c,s,!l,u,o);case 3:if(d=e.sent,m=d.bestTrade,f=d.success,!a.unmount){e.next=8;break}return e.abrupt("return");case 8:h=_.a.contract.uniswapV2.defaultSignificantDigits,f&&m&&p===R.a.NOT_APPLICABLE?(v=m.executionPrice.toSignificant(h),w=m.executionPrice.invert().toSignificant(h),g=m.maxAmountIn.toExact(),k=m.minAmountOut.toExact(),y=m.maxAmountIn.toSignificant(h),b=m.minAmountOut.toSignificant(h),E=m.priceImpactWithoutFeePercent.toString(),T=m.realizedLPFeeAmount.toSignificant(h),x=m.route.path,C=x.map((function(e){return e.address})),O=x.length>2?x.map((function(e){return e.symbol})).join(" > "):"",a.setState({inputAmount:s?i:m.inputAmount.toExact(),outputAmount:s?m.outputAmount.toExact():c,price:v,priceInvert:w,maxSold:g,minReceived:k,maxSoldStr:y,minReceivedStr:b,priceImpact:E,lpFee:T,swapPaths:C,route:O})):a.setState({price:"",priceInvert:"",maxSold:"",minReceived:"",maxSoldStr:"",minReceivedStr:"",priceImpact:"",lpFee:"",swapPaths:[],route:""});case 10:case"end":return e.stop()}}),e)}))),a.onImportCancel=function(){var e=_.a.contract.uniswapV2.defaultSwapTokens.input,t=_.a.contract.uniswapV2.defaultSwapTokens.output;a.setState({inputToken:e,outputToken:t,importVisible:!1},(function(){a.inputTokenRef.current.findTokenInfo(),a.outputTokenRef.current.findTokenInfo(),a.getAllPairReserves()})),a.props.history.replace("".concat(V.swap))},a.onImportOk=function(){var e=a.state,t=e.inputToken,n=e.outputToken;t.import&&Object(R.c)(t),n.import&&Object(R.c)(n),a.props.pool.genAllTokenList(),a.props.pool.loadAllTokenBalance({once:!0}),a.setState({inputToken:t,outputToken:n,importVisible:!1},(function(){a.inputTokenRef.current.findTokenInfo(),a.outputTokenRef.current.findTokenInfo(),a.getAllPairReserves()}))},a.onSettingsChange=function(){a.setState({disableMultihops:Object(R.m)()}),a.setState({slippageTolerance:Object(R.r)()})},a.checkWrapType=function(){var e=a.state,t=e.inputExact,n=e.inputToken,r=e.outputToken,i=e.inputAmount,c=e.outputAmount,s=_.a.contract.uniswapV2.defaultReceiveToken.native.address,l=_.a.contract.uniswapV2.defaultReceiveToken.wrappedNative.address,u=R.a.NOT_APPLICABLE,p={};return n.address===s&&r.address===l&&(u=R.a.WRAP),n.address===l&&r.address===s&&(u=R.a.UNWRAP),u===R.a.NOT_APPLICABLE?(a.setState({wrapType:u}),!0):(t?p.outputAmount=i:p.inputAmount=c,a.setState(Object(o.a)({wrapType:u},p)),!1)},a.onInputTokenChange=function(e,t){var n={};a.state.inputExact?n.outputAmount="":n.inputAmount="",a.setState(Object(o.a)({inputToken:e},n),(function(){a.checkWrapType()&&a.getAllPairReserves({once:!0}),t&&t()}))},a.onOutputTokenChange=function(e,t){var n={};a.state.inputExact?n.outputAmount="":n.inputAmount="",a.setState(Object(o.a)({outputToken:e},n),(function(){a.checkWrapType()&&a.getAllPairReserves({once:!0}),t&&t()}))},a.amountFormat=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:18,n="";if(e){var a=Object(P.i)(e,t),r=a.valid,o=a.str;r&&(n=o)}return n},a.afterInputChange=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"input",n=a.state.wrapType;if("input"===t)return n!==R.a.NOT_APPLICABLE?void a.setState({inputAmount:e,outputAmount:e,inputExact:!0}):void a.setState({inputAmount:e,outputAmount:"",inputExact:!0},(function(){a.getBestTradeInfo()}));n===R.a.NOT_APPLICABLE?a.setState({inputAmount:"",outputAmount:e,inputExact:!1},(function(){a.getBestTradeInfo()})):a.setState({inputAmount:e,outputAmount:e,inputExact:!1})},a.onInputChange=function(e,t){var n=e.target.value,r=a.props.pool.allTokenMap;if(n)if("input"!==t){var o=r[a.state.outputToken.address].decimals,i=a.amountFormat(n,o);i&&a.afterInputChange(i,t)}else{var c=r[a.state.inputToken.address].decimals,s=a.amountFormat(n,c);s&&a.afterInputChange(s,t)}else a.afterInputChange("",t)},a.onMaxClick=function(e){var t=function(e){var t=a.props.pool.tokenBalanceMap,n=t[e]?t[e]:new O.a(0);return e?n.toString():n.gt(.01)?n.minus(.01).toString():"0"};if("input"!==e){var n=a.state.outputToken;a.afterInputChange(t(n.address),e)}else{var r=a.state.inputToken;a.afterInputChange(t(r.address),e)}},a.onRecipientClick=function(){a.state.recipientVisible?a.setState({recipientVisible:!1,recipientInput:""}):a.setState({recipientVisible:!0})},a.onRecipientChange=function(e){a.setState({recipientInput:e.target.value})},a.onSwitchClick=function(){var e=a.state,t=e.inputToken,n=e.outputToken,r=e.inputAmount,o=e.outputAmount,i=e.inputExact,c="",s="";i?(c="",s=r):(c=o,s=""),a.setState({inputToken:n,outputToken:t,inputAmount:c,outputAmount:s,inputExact:!i},(function(){a.checkWrapType()&&a.getAllPairReserves({once:!0}),a.inputTokenRef.current.findTokenInfo(),a.outputTokenRef.current.findTokenInfo()}))},a.onPriceSwitchClick=function(){var e=a.state.priceInvertFlag;a.setState({priceInvertFlag:!e})},a.onSwapClick=Object(i.a)(F().mark((function e(){var t,n,r,o,i,c,s,l,u,p,d,m,f;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.pool.address,n=a.state,r=n.inputToken,o=n.outputToken,i=n.maxSold,c=n.minReceived,s=n.inputExact,l=n.swapPaths,u=n.recipientInput,t){e.next=4;break}return e.abrupt("return");case 4:if(i&&c){e.next=6;break}return e.abrupt("return");case 6:return a.setState({btnDisabled:!0}),e.next=9,Object(R.C)(t,r);case 9:if(p=e.sent,d=p.allowance,!new O.a(i).gt(d)){e.next=18;break}return e.next=14,Object(R.D)(r);case 14:if(e.sent){e.next=18;break}return a.setState({btnDisabled:!1}),e.abrupt("return");case 18:return m=u||t,e.next=21,Object(R.f)({currencyIn:r,currencyOut:o,amountInStr:i,amountOutStr:c,inputExact:s,to:m,path:l});case 21:f=e.sent,a.setState({btnDisabled:!1}),f&&setTimeout((function(){a.getAllPairReserves({once:!0})}),3e3);case 24:case"end":return e.stop()}}),e)}))),a.onWrapClick=Object(i.a)(F().mark((function e(){var t,n;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.pool.address,n=a.state.inputAmount,t){e.next=4;break}return e.abrupt("return");case 4:if(n){e.next=6;break}return e.abrupt("return");case 6:return a.setState({btnDisabled:!0}),e.next=9,Object(R.h)(n);case 9:a.setState({btnDisabled:!1});case 10:case"end":return e.stop()}}),e)}))),a.onUnwrapClick=Object(i.a)(F().mark((function e(){var t,n;return F().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.pool.address,n=a.state.inputAmount,t){e.next=4;break}return e.abrupt("return");case 4:if(n){e.next=6;break}return e.abrupt("return");case 6:return a.setState({btnDisabled:!0}),e.next=9,Object(R.g)(n);case 9:a.setState({btnDisabled:!1});case 10:case"end":return e.stop()}}),e)}))),a.onHeadeChartClick=function(){var e=a.state,t=e.inputToken,n=e.outputToken,r=_.a.contract.uniswapV2.defaultReceiveToken.wrappedNative.address,i=_.a.contract.uniswapV2.defaultReceiveToken.native.address,c=Object(o.a)(Object(o.a)({},t),{},{address:t.address===i?r:t.address}),s=Object(o.a)(Object(o.a)({},n),{},{address:n.address===i?r:n.address});if(c.address&&s.address){var l=Object(R.i)(c,s),u=a.chartMap[l];u?u.closed?a.chartMap[l]=window.open("".concat(_.a.dexscreener).concat(l),l):u.focus():a.chartMap[l]=window.open("".concat(_.a.dexscreener).concat(l),l)}},a.state={importVisible:!1,inputToken:{},outputToken:{},allPairs:[],inputAmount:"1",outputAmount:"",inputExact:!0,recipientVisible:!1,recipientInput:"",disableMultihops:Object(R.m)(),price:"",priceInvert:"",priceInvertFlag:!1,slippageTolerance:Object(R.r)(),maxSold:"",minReceived:"",maxSoldStr:"",minReceivedStr:"",priceImpact:"",lpFee:"",swapPaths:[],route:"",wrapType:R.a.NOT_APPLICABLE,btnDisabled:!1},a}return Object(s.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.importVisible,a=t.inputToken,o=t.outputToken,i=t.inputAmount,c=t.outputAmount,s=t.recipientVisible,l=t.recipientInput,u=t.inputExact,p=t.price,m=t.priceInvert,f=t.priceInvertFlag,v=t.slippageTolerance,g=t.maxSoldStr,C=t.minReceivedStr,S=t.priceImpact,L=t.lpFee,F=t.route,V=t.wrapType,B=t.btnDisabled,M=h.a.get("swap.swap.swapButton"),G=B,W=!1;G||(p?new O.a(S).gt(3)&&(M=h.a.get("swap.swap.swapAnywayButton"),W=!0):G=!0);var U=!1;if(s){var H,Q=(H={},Object(r.a)(H,a.address.toLowerCase(),!0),Object(r.a)(H,o.address.toLowerCase(),!0),Object(r.a)(H,_.a.contract.uniswapV2.router.address.toLowerCase(),!0),Object(r.a)(H,_.a.contract.uniswapV2.factory.address.toLowerCase(),!0),H);delete Q[""],U=Q[l.toLowerCase()]||!1}return d.a.createElement("div",{id:"swap-swap-main"},d.a.createElement(j.i,null,d.a.createElement(I.a,{title:h.a.get("swap.title"),desc:h.a.get("swap.desc"),type:"swap"}),d.a.createElement("div",{className:"swap-main-page"},d.a.createElement(j.e,null,d.a.createElement("div",{className:"swap-main-card"},d.a.createElement(N.a,{title:h.a.get("swap.swap.title"),desc:h.a.get("swap.swap.desc"),onSettingsChange:this.onSettingsChange,showChart:!0,onHeadeChart:this.onHeadeChartClick}),d.a.createElement("div",{className:"swap-main-card-body"},d.a.createElement(A.a,{ref:this.inputTokenRef,curToken:a,otherToken:o,onTokenChange:this.onInputTokenChange}),d.a.createElement(j.h,{placeholder:"0.0",value:i,enterButton:h.a.get("swap.max"),onChange:function(t){return e.onInputChange(t,"input")},onSearch:function(){return e.onMaxClick("input")}}),d.a.createElement("div",{className:"swap-swap-switch-icon"},d.a.createElement("div",{onClick:this.onSwitchClick},d.a.createElement(k.a,null),d.a.createElement(y.a,null))),d.a.createElement(A.a,{ref:this.outputTokenRef,curToken:o,otherToken:a,onTokenChange:this.onOutputTokenChange}),d.a.createElement(j.h,{placeholder:"0.0",value:c,enterButton:h.a.get("swap.max"),onChange:function(t){return e.onInputChange(t,"output")},onSearch:function(){return e.onMaxClick("output")}}),V===R.a.NOT_APPLICABLE?d.a.createElement(d.a.Fragment,null,s?d.a.createElement("div",null,d.a.createElement("div",{className:"swap-swap-recipient-row remove",onClick:this.onRecipientClick},d.a.createElement("div",{className:"global-secondary"},d.a.createElement(b.a,null),h.a.get("swap.swap.recipient")),d.a.createElement("div",{className:"swap-swap-recipient-remove"},h.a.get("swap.swap.removeRecipient"))),d.a.createElement(j.h,{placeholder:h.a.get("swap.swap.recipientPlaceholder"),value:l,onChange:this.onRecipientChange})):d.a.createElement("div",{className:"swap-swap-recipient-row",onClick:this.onRecipientClick},h.a.get("swap.swap.addRecipient")),p?d.a.createElement("div",{className:"swap-swap-info-row price"},d.a.createElement("div",null,h.a.get("swap.price")),d.a.createElement("div",null,f?"".concat(m," ").concat(h.a.get("swap.priceInfo",{token0:a.symbol,token1:o.symbol})):"".concat(p," ").concat(h.a.get("swap.priceInfo",{token0:o.symbol,token1:a.symbol})),d.a.createElement(E.a,{onClick:this.onPriceSwitchClick}))):d.a.createElement(d.a.Fragment,null),d.a.createElement("div",{className:"swap-swap-info-row slippage"},d.a.createElement("div",null,h.a.get("swap.slippage")),d.a.createElement("div",null,v,"%"))):d.a.createElement(d.a.Fragment,null),d.a.createElement("div",{className:"swap-swap-btn"},U?d.a.createElement(j.d,{error:!0},h.a.get("swap.swap.recipientErrorButton")):d.a.createElement(d.a.Fragment,null,V===R.a.WRAP?d.a.createElement(j.d,{disabled:B,onClick:this.onWrapClick},h.a.get("swap.swap.wrapButton")):V===R.a.UNWRAP?d.a.createElement(j.d,{disabled:B,onClick:this.onUnwrapClick},h.a.get("swap.swap.unwrapButton")):d.a.createElement(j.d,{disabled:G,warn:W,onClick:this.onSwapClick},M)))),p&&V===R.a.NOT_APPLICABLE?d.a.createElement("div",{className:"swap-swap-info-extend"},u?d.a.createElement("div",{className:"swap-swap-info-row"},d.a.createElement(w.a,{title:h.a.get("swap.minReceivedDesc")},d.a.createElement("div",null,h.a.get("swap.minReceived"),d.a.createElement(T.a,null))),d.a.createElement("div",null,C," ",o.symbol)):d.a.createElement("div",{className:"swap-swap-info-row"},d.a.createElement(w.a,{title:h.a.get("swap.maxSoldDesc")},d.a.createElement("div",null,h.a.get("swap.maxSold"),d.a.createElement(T.a,null))),d.a.createElement("div",null,g," ",a.symbol)),d.a.createElement("div",{className:"swap-swap-info-row impact"},d.a.createElement(w.a,{title:h.a.get("swap.priceImpactDesc")},d.a.createElement("div",null,h.a.get("swap.priceImpact"),d.a.createElement(T.a,null))),d.a.createElement(j.o,{noTitle:!0,priceImpact:S})),d.a.createElement("div",{className:"swap-swap-info-row"},d.a.createElement(w.a,{title:h.a.getHTML("swap.LiquidityProviderFeeDesc")},d.a.createElement("div",null,h.a.get("swap.LiquidityProviderFee"),d.a.createElement(T.a,null))),d.a.createElement("div",null,L," ",a.symbol)),F?d.a.createElement("div",{className:"swap-swap-info-row route"},d.a.createElement(w.a,{title:h.a.get("swap.routeDesc")},d.a.createElement("div",null,h.a.get("swap.route"),d.a.createElement(T.a,null))),d.a.createElement("div",null,F)):d.a.createElement(d.a.Fragment,null)):d.a.createElement(d.a.Fragment,null))),d.a.createElement(D,{visible:n,token0:a,token1:o,onCancel:this.onImportCancel,onOk:this.onImportOk})),d.a.createElement("div",{className:"swap-swap-footer"},d.a.createElement("div",{className:"swap-swap-footer-title"},d.a.createElement("div",null,h.a.get("swap.factory")),d.a.createElement("div",null,h.a.get("swap.router")),d.a.createElement("div",null,h.a.get("swap.repo"))),d.a.createElement("div",{className:"swap-swap-footer-url"},d.a.createElement("div",null,d.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"".concat(_.a.chain.scan,"/address/").concat(_.a.contract.uniswapV2.factory.address)},Object(P.d)(_.a.contract.uniswapV2.factory.address),d.a.createElement(x.a,null))),d.a.createElement("div",null,d.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"".concat(_.a.chain.scan,"/address/").concat(_.a.contract.uniswapV2.router.address)},Object(P.d)(_.a.contract.uniswapV2.router.address),d.a.createElement(x.a,null))),d.a.createElement("div",null,d.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:_.a.contract.uniswapV2.repo},h.a.get("swap.github"),d.a.createElement(x.a,null)))))))}}]),n}(d.a.Component))||a)||a;t.default=B}}]);